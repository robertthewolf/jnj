//colors

$black: #111 !important
$white: #fff !important

//breakpoints

@mixin breakpoint($class)
  @if $class == sm
    @media (max-width: 767px)
      @content

  @else if $class == lg
    @media (min-width: 768px)
      @content

  @else
    @warn "Breakpoint mixin supports: xs, sm, md, lg"

//fonts

@font-face
  src: url('../fonts/Phenomena-Regular.woff')
  font-family: 'Phenomena'
  font-weight: 400

@font-face
  src: url('../fonts/Phenomena-Bold.woff')
  font-family: 'Phenomena'
  font-weight: 600


//language switch

.en:lang(cs), .cs:lang(en)
  display: none

.en, .cs
  animation-name: appear
  animation-duration: 2s
  animation-iteration-count: 1
  animation-fill-mode: forwards

button
  display: inline-block

  background: none
  border: none
  outline: none
  cursor: pointer

  font-weight: 600
  text-transform: uppercase
  span
    animation-name: appear
    animation-duration: 2s
    animation-delay: 2s
    animation-iteration-count: 1
    animation-fill-mode: forwards


// basic layout

body
  background-color: $white
  color: $black
  .hover
    background-color: $black


div[data-reactroot]
  @include breakpoint(sm)
    width: 100vw
    overflow-x: hidden
  @include breakpoint(lg)
    height: 100vh
    overflow-y: hidden


  > *
    max-height: 100%

.scroll-horizontal
  div
    @include breakpoint(sm)
      display: block !important
      position: static !important

.scrollWrapper
  @include breakpoint(lg)
    display: flex

// navigation

nav
  @include breakpoint(lg)
    display: flex
    justify-content: space-around
    flex-direction: column
    flex-shrink: 0

    width: 5em
    margin-left: 5em
    margin-right: 5em
  a
    @include breakpoint(sm)
      display: flex
      justify-content: center
    img
      width: 4em
      flex-shrink: 0

      position: relative
      z-index: 3
      margin-bottom: 0

      @include breakpoint(sm)
        margin-top: 50px
        margin-bottom: 25px
  ul
    white-space: nowrap
    list-style-type: none
    margin-left: 0
    @include breakpoint(sm)
      display: flex
      flex-wrap: wrap
      justify-content: space-around
    li
      @include breakpoint(sm)
      width: 50%
    a
      text-decoration: none
      text-transform: uppercase
      color: $black
      opacity: .55
      &.active
        position: relative
        z-index: 5
        opacity: 1
        font-weight: 600




// sections


.section
  animation-name: appear
  animation-duration: 2s
  animation-iteration-count: 1
  animation-fill-mode: forwards

  @include breakpoint(lg)
    display: flex
    flex-direction: column
    flex-wrap: wrap

    min-width: calc(100vw - 11em)

  > header
    order: 2
    @include breakpoint(sm)
      padding: 0 2em;    
    @include breakpoint(lg)
      padding: calc(20vh - 2em) 2em 5vh
      height: 100vh
      width: 20em
    p
      position: relative
      &::before
        content: ''
        width: 3em
        border-top: 1px solid black
        position: absolute
        transform: translate(-3.5em, .93em)
        z-index: 5

  figure
    position: relative
    .gatsby-image-outer-wrapper
      width: 100%
      height: 100%
      .gatsby-image-wrapper
        width: 100%
        height: 100%
        overflow: visible !important
        img
          height: 100%

    > figcaption
        position: absolute
        top: 1em
        left: 1em

        color: $white
        font-weight: 600

        @include breakpoint(lg)
          opacity: 0
        transition: opacity 1s ease
        > small
          font-weight: 400
          display: block
    &:hover > figcaption
      opacity: 1
    &:first-of-type
      order: 1
      margin: 0
      @include breakpoint(sm)
        margin: 2em
      .gatsby-image-outer-wrapper
        @include breakpoint(lg)
          width: 100vh
          height: 100vh
    &:nth-of-type(n+2)
      order: 3
      margin: 2em
      @include breakpoint(lg)
        --height: calc(50vh - 4em)
        height: var(--height)
      .gatsby-image-outer-wrapper
        height: 100%
    &:nth-of-type(3n + 8)
      @include breakpoint(lg)
        margin: 2em 4em
        --height: calc(100vh - 4em)
        height: var(--height)

    &:last-of-type
      @include breakpoint(lg)
        padding-right: 4em

// footer

footer
  order: 4
  padding: calc(20vh - 2em) 2em 5vh
  background-color: #222222
  @include breakpoint(lg)
    height: 100vh
    width: 20em
    display: flex
    flex-direction: column
  p
    color: #fff
  a
    color: white
    display: block
    &:hover
      text-decoration: none
  .socials
    a
      display: inline-block
      padding: 1em 1em 1em 0
      transition: border-bottom-width .3s ease
      img
        width: 1em
        padding-bottom: .3rem
        border-bottom: 0px solid white
        vertical-align: top
      &:hover img
        border-bottom-width: 2px

.signature
  font-size: .8rem
  color: grey
  margin-top: 4rem
  text-align: center
  @include breakpoint(lg)
    margin-top: auto

  a
    display: inline
    color: grey
    &:hover
      text-decoration: none

@keyframes appear
  0%
    opacity: 0
  100%
    opacity: 1


// Gatsby image - image zoom

gatsby-image-wrapper
  div
    pointer-events: none
  img:first-of-type
    pointer-events: none